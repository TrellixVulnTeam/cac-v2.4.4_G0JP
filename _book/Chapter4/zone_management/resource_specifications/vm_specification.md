# 4.4.3.1.虚拟机规格管理

虚拟机规格是用户创建虚拟机所需要的规格方案，管理员可以创建多个虚拟机规格供用户选择。

在“资源管理”菜单下选择左侧“区域管理”导航菜单，之后点击“资源规格”下的“虚拟机规格”子菜单，即可看到虚拟机规格的管理界面：

![image-20210208121047515](vm_specification.assets/image-20210208121047515.png)

在此页面，可以查看虚拟机规格的名称、vCPU、速度等信息。

## 相关操作

HYPERX云管理平台支持用户对虚拟机规格进行管理，支持的功能如下：

- 快速搜索：根据虚拟机规格的名称、类型、Zone等字段全局快速搜索虚拟机规格；
- 高级筛选：用户可以从表头右侧根据名称、vCPU、速度(GHz)等字段筛选出符合条件的虚拟机规格；
- 创建虚拟机规格：输入虚拟机规格的名称、域、存储类型等信息创建新的虚拟机规格；
- 编辑虚拟机规格：编辑虚拟机规格的名称、域、描述等相关信息；
- 编辑虚拟机规格单价：为虚拟机规格编辑单价信息；
- 删除虚拟机规格：删除选定的虚拟机规格，其操作结果不影响之前使用该规格创建的虚拟机。


操作入口如下：

资源管理→区域管理→资源规格→虚拟机规格

## 操作说明

### 创建虚拟机规格

① 在虚拟机规格管理界面中，点击“创建虚拟机规格”按钮：

![image-20210208121153769](vm_specification.assets/image-20210208121153769.png)

② 在“创建虚拟机规格”的界面中，需要依次执行创建虚拟机规格、虚拟机规格定价这2个操作。

创建虚拟机规格——配置虚拟机规格的名称、资源域、使用范围等信息。设置界面如下：

<img src="vm_specification.assets/image-20210208121315991.png" alt="image-20210208121315991" style="zoom:50%;" />

> [!NOTE]
>
> - 如果选择“使用范围”为“全局”，则该虚拟机规格支持整个平台使用，如果选择“使用范围”为“制定公司”，则该虚拟机规格只支持选定的公司使用；
> - 虚拟机规格加入规格组后，才能被使用，支持在创建虚拟机规格时指定资源规格组；
> - 如果选择规格类型为“自定义范围”，支持自定义虚拟机规格的内存、vCPU、速度的大小区间。

如需配置高级信息，点击“设置高级配置”按钮，可以对主机标识、存储标识、存储类型等信息进行配置：

<img src="vm_specification.assets/image-20210208121636638.png" alt="image-20210208121636638" style="zoom:50%;" />

完善全部信息后，点击“下一步”按钮，进入下一步配置。

> [!NOTE]
>
> - 设置主机标识后，系统将指定虚拟机运行在带有相同标识的主机节点上；
> - 存储类型分为“share”（使用共享存储的主存储）和“local”（使用计算节点的本地磁盘）；
> - 设置存储标识后，系统将虚拟机镜像文件创建在带有相同标识的主存储中；
> - 虚拟机速度为vCPU的频率，其频率不支持超过物理CPU主频的上限；
> - 若开启对磁盘性能的配置，则需要配置IOPS读写量和吞吐读写量：
>
> ![image-20210208122511681](vm_specification.assets/image-20210208122511681.png)
>
> - 带宽为限制虚拟机使用的网络带宽，为空表示不限制。目前只支持KVM和XenServer，其中XenServer支持设置的最大带宽为200MB；
> - 若需要为虚拟机规格配置GPU，开启“GPU”选项，需要选择的GPU的虚拟化类型和数量上限：
>
> <img src="vm_specification.assets/image-20210208122653447.png" alt="image-20210208122653447" style="zoom:50%;" />

虚拟机规格定价——配置各个域中虚拟机的价格。设置界面如下：

<img src="vm_specification.assets/image-20210208125332475.png" alt="image-20210208125332475" style="zoom:50%;" />

完善全部信息后，点击“确定”按钮，即可完成虚拟机规格的创建。

### 编辑虚拟机规格

① 在虚拟机规格管理界面中，选择需要编辑的虚拟机规格，点击操作列的“编辑规格”按钮：

![image-20210208124846069](vm_specification.assets/image-20210208124846069.png)

② 将会进入“编辑虚拟机规格”的页面，编辑虚拟机规格的名称、域、描述等信息后，点击“确定”按钮更新虚拟机规格信息：

<img src="vm_specification.assets/image-20210208125006377.png" alt="image-20210208125006377" style="zoom:50%;" />

### 编辑虚拟机规格单价

① 在虚拟机规格管理界面中，选择需要编辑单价的虚拟机规格，点击操作列的“编辑单价”按钮：

![image-20210208125114035](vm_specification.assets/image-20210208125114035.png)

② 将会进入编辑虚拟机单价的页面，选择需要编辑的单价，点击操作列的“编辑”按钮：

![image-20210208125154910](vm_specification.assets/image-20210208125154910.png)

③ 将会弹出“设置价格”的操作提示框，修改相关信息后，点击“确定”按钮，即可编辑虚拟机规格的单价：

<img src="vm_specification.assets/image-20210208125229604.png" alt="image-20210208125229604" style="zoom:50%;" />

### 删除虚拟机规格

① 在虚拟机规格管理界面中，选择需要删除的虚拟机规格，点击操作列的“删除”按钮：

![image-20210208125446914](vm_specification.assets/image-20210208125446914.png)

② 将会弹出“删除”的操作提示框，点击“确定”按钮，删除选定的虚拟机规格：

<img src="vm_specification.assets/image-20210208125612226.png" alt="image-20210208125612226" style="zoom:50%;" />

> [!WARNING]
>
> - 当虚拟机规格被虚拟机使用时，不支持被删除。

